---
layout: post
title: IO模型演进
description: 浅析IO模型演进
category: blog
---

- IO多路复用，单线程，IO阻塞

遍历所有的链路, 一个链路的请求处理不完，其他的所有请求阻塞

- IO多路复用, 每个连接一个处理线程, IO阻塞

线程数量控制不了

- IO多路复用，线程池，IO阻塞

线程池大小有上限，当线程池满了后，后续的IO请求会排队等待
由于是IO阻塞式的，每个IO线程的处理延迟时间较大，服务器压力上不去

- IO多路复用，单线程，IO非阻塞

IO处理不会阻塞，但是单线程同时处理成百上千个链路，性能无法支撑

- IO多路复用，线程池，IO非阻塞式

由一组线程处理IO操作, 能满足绝大部分场景

- IO多路复用，线程池，主从

Acceptor能力有瓶颈, 在Acceptor阶段使用线程池处理
适用于建立连接的过程比较复杂，需要安全认证等逻辑

IO操作和业务逻辑操作是否在同一个线程

## poll select Epoll

Selector会不断地轮询注册在其上的Channel，如果某个Channel上面发生读写时间，这个Channel
就处于就绪状态，会被Selector轮询出来, 然后通过SelectionKey可以获取就绪Channel的集合，
进行后续的IO操作.

IO多路复用是NIO的基础
使用线程池，不用IO多路复用技术也可以处理客户端的IO连接，但是这种处理方式有些致命的缺陷：

但是使用线程池技术将acceptor
处理线程和

