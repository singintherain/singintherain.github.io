---
layout: post
title: 简化函数调用
description: 重构-改善既有代码的设计
category: blog
---

* 函数的名称
* 函数的参数
* 以不可变对象取代过程的函数参数
* 将修改对象状态函数与获取对象状态的函数分开定义
* 良好的接口定义在于良好的函数隐藏
* 构造函数问题, 最小知识原则
* 转型casting
* 异常使用，代替错误

## 函数重命名

使用尽量直观的命名而非复杂的逻辑判断来描述业务

* 大函数拆成小函数
* 函数重命名，函数命名要清晰

## 添加参数

* 给函数添加参数，但是参数列表不能过长，过长的参数列表意味着使用者需要学习更多的知识
* 参数过长时需要考虑使用参数对象来代替
* 参数过长时，建议重新梳理一遍业务; 业务描述清晰的话，一般不会出现参数过长的情况
* 在接口的方法定义时，也一般都是采用对象交互，而非基本数据类型

## 移除参数

将没用的参数删除
多态场景下会定义不同参数的函数，但不会在函数中定义无意义的参数

## 将查询函数和修改函数分离

有副作用函数和无副作用函数：是否修改对象的状态

如果一个函数即返回对象状态又修改对象状态，则建议使用两个函数，一个
函数用来修改对象状态，一个用来获取对象状态。

函数的返回值不要和函数的状态有什么样的关系

建议，除了实例化对象的方法，普通方法尽量不要有返回值

## 令函数携带参数

一个函数，多参数

## 以明确的函数取代参数

多个函数，无参数

## 保持对象完整

函数之间通过对象来交互，而非将对象中的某些值单提出来作为参数，这样扩展性极差

## 以函数取代参数

减少参数的一种方式；如果参数的值可以在内容逻辑中通过其他的函数来获取，
这说明该参数是无意义的。



